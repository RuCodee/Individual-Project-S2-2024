@page
@model WebApp.Pages.PatientProfileModel
@{
    Layout = "_Layout";
}

<header class="header">
    <div class="logo-container">
        <img src="~/images/RuMED.png" alt="RuMED Logo" class="logo">
    </div>
    <nav class="main-nav">
        <ul>
            <li><a href="/Doctors">Doctors</a></li>
            <li><a href="#about">About Us</a></li>
            <li><a href="#faq">FAQ</a></li>
            <li class="login-button"><a asp-page="/PatientDashboard">Dashboard</a></li>
        </ul>
    </nav>
</header>

<section class="profile-section">
    <div class="profile-card">
        <div class="profile-picture"></div>
        <p>SSN: @Model.PatientDetails.SSN</p>
        <p>Full Name: @Model.PatientDetails.FirstName @Model.PatientDetails.LastName</p>
        <p>Phone Number: @Model.PatientDetails.TelephoneNumber</p>
        <button class="edit-profile-btn" id="editProfileBtn" asp-page="/EditPatientProfile" asp-route-userId="@Model.PatientDetails.Id">Edit Profile</button>

    </div>
    <div class="patient-details-container">
        <div class="patient-details">
            <!-- Patient's own details -->
            <div class="detail"><span class="label">First Name:</span> <span class="value">@Model.PatientDetails.FirstName</span></div>
            <div class="detail"><span class="label">Last Name:</span> <span class="value">@Model.PatientDetails.LastName</span></div>
            <div class="detail"><span class="label">Date Of Birth:</span> <span class="value">@Model.PatientDetails.DateOfBirth.ToString("dd/MM/yyyy")</span></div>
            <div class="detail"><span class="label">Gender:</span> <span class="value">@Model.PatientDetails.Gender.ToString()</span></div>
            <div class="detail"><span class="label">Phone Number:</span> <span class="value" data-field="TelephoneNumber">@Model.PatientDetails.TelephoneNumber</span></div>
            <div class="detail"><span class="label">SSN:</span> <span class="value">@Model.PatientDetails.SSN</span></div>
            <div class="detail"><span class="label">Email Address:</span> <span class="value" data-field="EmailAddress">@Model.PatientDetails.EmailAddress</span></div>
            <div class="detail"><span class="label">Home Address:</span> <span class="value" data-field="HomeAddress">@Model.PatientDetails.HomeAddress</span></div>
        </div>
        <div class="password-management">
            <p>Password: ********</p>
            <button class="change-password-btn">Change Password</button>
        </div>
    </div>
</section>

<div id="passwordModal" class="password-modal" style="display:none;">
    <div class="password-modal-content">
        <span class="close-button">&times;</span>
        <form id="passwordForm">
            <p>
                <label for="currentPassword">Current Password:</label>
                <input type="password" id="currentPassword" name="currentPassword" required>
            </p>
            <p>
                <label for="newPassword">New Password:</label>
                <input type="password" id="newPassword" name="newPassword" required>
            </p>
            <button type="submit" class="change-password-btn">Change Password</button>
            <p id="passwordError" style="color: red; display: none;">Error message here.</p>
        </form>
    </div>
</div>


<section class="contact-section">
    <div class="contact-label emergency-contact-label">Emergency Contact</div>
    <div class="contact-details">
       <div class="column">
            <div class="detail"><span class="label">First Name:</span> <span class="value">@Model.PatientDetails.ECFirstName </span></div>
            <div class="detail"><span class="label">Last Name:</span> <span class="value">@Model.PatientDetails.ECLastName </span></div>
            <div class="detail"><span class="label">Date Of Birth:</span> <span class="value">@Model.PatientDetails.ECDateOfBirth?.ToString("dd/MM/yyyy") </span></div>
            <div class="detail"><span class="label">Gender:</span> <span class="value">@Model.PatientDetails.ECGender </span></div>
            <div class="detail"><span class="label">Phone Number:</span> <span class="value">@Model.PatientDetails.ECPhoneNumber </span></div>
            <div class="detail"><span class="label">Email Address:</span> <span class="value">@Model.PatientDetails.ECEmailAddress </span></div>
       </div>
       <div class="column">
            <div class="detail"><span class="label">SSN:</span> <span class="value">@Model.PatientDetails.ECSSN </span></div>
            <div class="detail"><span class="label">Relationship:</span> <span class="value">@Model.PatientDetails.ECRelationship </span></div>
            <div class="detail"><span class="label">Home Address:</span> <span class="value">@Model.PatientDetails.ECHomeAddress </span></div>
            <div class="detail"><span class="label">Post Code:</span> <span class="value">@Model.PatientDetails.ECPostCode </span></div>
       </div>
        <button class="edit-contact-btn">Edit</button>
    </div>
</section>

<section class="contact-section">
    <div class="contact-label parent-contact-label">Parent Contact</div>
    <div class="contact-details">
        <div class="column">
            <div class="detail"><span class="label">First Name:</span> <span class="value">@Model.PatientDetails.PCFirstName </span></div>
            <div class="detail"><span class="label">Last Name:</span> <span class="value">@Model.PatientDetails.PCLastName </span></div>
            <div class="detail"><span class="label">Date Of Birth:</span> <span class="value">@Model.PatientDetails.PCDateOfBirth?.ToString("dd/MM/yyyy") </span></div>
            <div class="detail"><span class="label">Gender:</span> <span class="value">@Model.PatientDetails.PCGender </span></div>
            <div class="detail"><span class="label">Phone Number:</span> <span class="value">@Model.PatientDetails.PCPhoneNumber </span></div>
            <div class="detail"><span class="label">Email Address:</span> <span class="value">@Model.PatientDetails.PCEmailAddress </span></div>
        </div>
        <div class="column">
            <div class="detail"><span class="label">SSN:</span> <span class="value">@Model.PatientDetails.PCSSN </span></div>
            <div class="detail"><span class="label">Relationship:</span> <span class="value">@Model.PatientDetails.PCRelationship </span></div>
            <div class="detail"><span class="label">Home Address:</span> <span class="value">@Model.PatientDetails.PCHomeAddress </span></div>
            <div class="detail"><span class="label">Post Code:</span> <span class="value">@Model.PatientDetails.PCPostCode </span></div>
        </div>
        <button class="edit-contact-btn edit-parent-contact-btn">Edit</button>
    </div>
</section>

<script src="~/js/PatientProfileEdit.js"></script>